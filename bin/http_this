#!/usr/bin/env perl

## Make dist-zilla happy
package
  http_this;

use strict;
use warnings;
use App::HTTPThis;

# ABSTRACT: export the current directory over HTTP

App::HTTPThis->new->run;


__END__

=encoding utf8

=head1 SYNOPSIS

    ## Export the current directory with HTTP
    $ http_this

    ## Export the dir_name directory with HTTP
    $ http_this dir_name

    ## Start the server on a specific port
    $ http_this --port 9001

    ## Announces the HTTP server via Bonjour with the specified name
    $ http_this --name "My cool webserver"

    ## Start the server using index.html for directory requests
    $ http_this --autoindex

    ## Show documentation about our options
    $ http_this --help

    ## Show the entire man page
    $ http_this --man


=head1 DESCRIPTION

The C<http_this> command exports the current directory via HTTP. You can
also export any directory by providing the path as a parameter.

A simple web server is started and is kept running until you kill it
with C<Ctrl-C>.

All the files and directories will be availble to a browser under the
URL the script outputs.


=head1 ARGUMENTS

The script accepts a single optional argument: the path of the directory
to export.


=head1 OPTIONS

The following options are available:

=over 4

=item --port PORT

Start the HTTP server on a specific C<PORT>.

=item --name NAME

Announces the server over Bonjour.

This feature requires the L<Net::Rendezvous::Publish> module and the
appropriate backend for your operating system, both available from
L<CPAN|http://search.cpan.org/>. If one of them cannot be found, a
warning message will be displayed.

=item --autoindex

By default, if the server gets a request that ends in / then it displays
a listing of that directory. With the C<--autoindex> flag, it will serve
the C<index.html> file from that directory (if it exists).

=item --help

Print information about the script usage and its options.

=item --man

Print the entire man page for the command.

=back
